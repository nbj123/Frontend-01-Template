## 第一步拆分  总结
- 为了方便文件管理，我们把parser单独拆到文件中
- parser接受HTML文本作为参数，返回一颗DOM树

## 第二步 创建状态机 总结
- 我们用FSM来实现HTML的分析
- 再HTML标准中，已经规定了HTML的状态
- Toy-Browser只挑选其中一部分状态，完成一个最简版本

## 第三步 解析标签 总结
- 主要的标签有：开始标签，结束标签和自封闭标签
- 在这一步我们暂时忽略属性

## 第四步 创建元素 总结
- 在状态机中，除了状态迁移，外面还会要加入业务逻辑
- 外面在标签结束状态提交标签token

## 第五步 获取属性 总结
- 属性值分为单引号、双引号、无引号三种写法，因此需要较多状态处理
- 处理属性的方式跟标签类似
- 属性结束时，我们把属性加到标签Token上

## 第六步 构建DOM树 总结
- 从标签构建DOM树的基本技巧是使用栈
- 遇到开始标签时创建元素并入栈，遇到结束标签时出栈
- 自封闭节点可视为入栈后立刻出栈
- 任何元素的父元素是它入栈前的栈顶

## 第七步 文本节点 总结
- 文本节点与自封闭标签处理类似
- 多个文本节点需要合并


## 自我总结
浏览器的工作原理：
- 显示输出了url进行跳转，浏览器开始请求了http，返回了HTML的代码进行解析，解析单独拎--出来parse.js文件，返回了DOM树，
- 然后将css规则应用上去(csscomputing.js)让DOM树带有css，下面就是排版了
- 有了DOM结构，有了css装饰，下面就需要怎么摆放了(layout.js)，确定了DOM树所有元素位置使这个css的DOM树带有位置
- 什么都好了，下面就需要渲染倒浏览器上了，进行渲染(render.js)，成图片，得到内存中的图片，将图片显示到浏览器上。
我把以上浏览器的工作理解为一个毛坯房，先开着车(http),买了一堆材料(DOM树)，然后装修人员(csscomputing.js来css规则应用)进行装修(css+DOM树),然后家具摆放(排版-位置)，最后拍照(渲染成照片)。
### parse.js解析DOM树:
- 首先 node搭建下服务器
- client.js 处理下请求数据，状态机的方法将body处理成DOM树，具体body的处理提出到parse.js
- parse.js中进行对body里处理DOM树，
	- 首先状态的确定进行标签的解析，
	- 将标签元素分为开始标签、结束标签和自封闭标签三种类型进行解析存储，
	- 下面解析标签元素属性：根据单引号、双引号以及无引号进行解析处理加上对应的标签元素中，
	- DOM树的构建，根据存储的值，用栈的原理，先入后出，后入先出，(开始标签入栈，结束标签遇到开始标签出栈)以及自封闭标签不进入栈，任何元素标签的父元素都是它入栈的栈顶
	- 文本节点如果多个连续需要合并